<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>CurveLab — Ajuste de Curva</title>
  <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 64 64'%3E%3Crect width='64' height='64' rx='14' fill='%230f172a'/%3E%3Cpath d='M12 48 C16 44, 22 20, 32 18 S48 30, 52 14' stroke='%2338bdf8' stroke-width='3.5' fill='none' stroke-linecap='round'/%3E%3Ccircle cx='16' cy='42' r='3' fill='%23f472b6'/%3E%3Ccircle cx='28' cy='22' r='3' fill='%23f472b6'/%3E%3Ccircle cx='40' cy='26' r='3' fill='%23f472b6'/%3E%3Ccircle cx='50' cy='16' r='3' fill='%23f472b6'/%3E%3Cline x1='12' y1='52' x2='54' y2='52' stroke='%2364748b' stroke-width='1.5'/%3E%3Cline x1='10' y1='10' x2='10' y2='52' stroke='%2364748b' stroke-width='1.5'/%3E%3C/svg%3E">
  <link rel="stylesheet" href="styles.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=JetBrains+Mono:wght@400;500&family=Playfair+Display:ital,wght@0,700;1,700&display=swap" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
  <!-- Navbar fixa -->
  <nav class="navbar">
    <div class="navbar-inner">
      <div class="navbar-brand">
        <svg class="brand-icon" viewBox="0 0 40 40" width="32" height="32">
          <rect width="40" height="40" rx="8" fill="rgba(56,189,248,0.15)"/>
          <path d="M8 30 C11 27,16 12,20 11 S30 20,32 9" stroke="#38bdf8" stroke-width="2.5" fill="none" stroke-linecap="round"/>
          <circle cx="12" cy="26" r="2" fill="#f472b6"/>
          <circle cx="20" cy="12" r="2" fill="#f472b6"/>
          <circle cx="28" cy="17" r="2" fill="#f472b6"/>
        </svg>
        <span class="brand-text">CurveLab</span>
      </div>
      <div class="navbar-tagline">Plataforma de Regressão &amp; Análise Numérica</div>
    </div>
  </nav>

  <main class="page-wrapper">
    <!-- Hero compacto -->
    <section class="hero">
      <h1>Ajuste de Curva</h1>
      <p class="hero-sub">Modele, compare e visualize regressões com precisão científica.</p>
    </section>

    <!-- Layout Principal -->
    <div class="main-grid">
      <!-- Coluna esquerda: Dados -->
      <section class="panel panel-input" aria-label="Entrada de dados">
        <div class="panel-header">
          <svg class="panel-icon" viewBox="0 0 24 24" width="20" height="20" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="22 12 18 12 15 21 9 3 6 12 2 12"/></svg>
          <h2>Dados de Entrada</h2>
        </div>
        <div class="panel-body">
          <div class="field">
            <label for="valoresX">Vetor X</label>
            <input type="text" id="valoresX" placeholder="Ex: 1, 2, 3, 4, 5" autocomplete="off" spellcheck="false">
            <span class="field-hint">Valores numéricos separados por vírgula</span>
          </div>
          <div class="field">
            <label for="valoresY">Vetor Y</label>
            <input type="text" id="valoresY" placeholder="Ex: 2.1, 3.9, 6.2, 8.0, 10.1" autocomplete="off" spellcheck="false">
            <span class="field-hint">Valores numéricos separados por vírgula</span>
          </div>
          <div class="field">
            <label for="tipoAjuste">Modelo de Regressão</label>
            <div class="select-wrapper">
              <select id="tipoAjuste">
                <option value="linear">Linear  —  y = a + bx</option>
                <option value="parabolico">Parabólico  —  y = a + bx + cx²</option>
                <option value="exponencial">Exponencial  —  y = a·eᵇˣ</option>
                <option value="hiperbolico">Hiperbólico  —  y = a + b/x</option>
                <option value="logaritmico">Logarítmico  —  y = a + b·ln(x)</option>
                <option value="potencial">Potencial  —  y = a·xᵇ</option>
                <option value="todos">Comparar Todos os Modelos</option>
              </select>
            </div>
          </div>
          <div class="actions">
            <button class="btn btn-primary" onclick="calcularAjuste()" aria-label="Calcular ajuste">
              <svg viewBox="0 0 24 24" width="16" height="16" fill="none" stroke="currentColor" stroke-width="2"><path d="M4 4h6v6H4zM14 4h6v6h-6zM4 14h6v6H4zM17 14v8M14 17h6"/></svg>
              Calcular
            </button>
            <button class="btn btn-accent" onclick="criarGrafico()" aria-label="Gerar gráfico">
              <svg viewBox="0 0 24 24" width="16" height="16" fill="none" stroke="currentColor" stroke-width="2"><polyline points="23 6 13.5 15.5 8.5 10.5 1 18"/><polyline points="17 6 23 6 23 12"/></svg>
              Gráfico
            </button>
            <button class="btn btn-ghost" onclick="limparDados()" aria-label="Limpar dados">
              <svg viewBox="0 0 24 24" width="16" height="16" fill="none" stroke="currentColor" stroke-width="2"><polyline points="3 6 5 6 21 6"/><path d="M19 6v14a2 2 0 01-2 2H7a2 2 0 01-2-2V6m3 0V4a2 2 0 012-2h4a2 2 0 012 2v2"/></svg>
              Limpar
            </button>
          </div>
        </div>
      </section>

      <!-- Coluna direita: Resultados -->
      <section class="panel panel-results" aria-label="Resultados do ajuste">
        <div class="panel-header">
          <svg class="panel-icon" viewBox="0 0 24 24" width="20" height="20" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/><polyline points="14 2 14 8 20 8"/><line x1="16" y1="13" x2="8" y2="13"/><line x1="16" y1="17" x2="8" y2="17"/><polyline points="10 9 9 9 8 9"/></svg>
          <h2>Resultados</h2>
          <span class="badge" id="badgeR2" style="display:none">R²</span>
        </div>
        <div class="panel-body">
          <div id="resultados" class="results-display">
            <div class="empty-state">
              <svg viewBox="0 0 24 24" width="48" height="48" fill="none" stroke="currentColor" stroke-width="1" opacity="0.3"><circle cx="12" cy="12" r="10"/><path d="M8 12l2 2 4-4"/></svg>
              <p>Insira os dados e clique em <strong>Calcular</strong> para ver a análise de regressão.</p>
            </div>
          </div>
        </div>
      </section>
    </div>

    <!-- Gráfico -->
    <section class="panel panel-chart" aria-label="Gráfico de ajuste">
      <div class="panel-header">
        <svg class="panel-icon" viewBox="0 0 24 24" width="20" height="20" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="18" y1="20" x2="18" y2="10"/><line x1="12" y1="20" x2="12" y2="4"/><line x1="6" y1="20" x2="6" y2="14"/></svg>
        <h2>Visualização Gráfica</h2>
      </div>
      <div class="panel-body chart-container">
        <canvas id="graficoAjuste"></canvas>
      </div>
    </section>

    <!-- Rodapé -->
    <footer class="footer">
      <span>CurveLab</span> &mdash; Plataforma de Ajuste de Curva &bull; Node.js / TypeScript
    </footer>
  </main>

  <script src="js/app.js"></script>
</body>
</html>
